# Migration `20200130010536-add-students-to-guardians`

This migration has been generated by andres at 1/30/2020, 1:05:36 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."_GuardianToStudent" (
    "A" text  NOT NULL ,
    "B" text  NOT NULL 
) 

ALTER TABLE "public"."Guardian" DROP COLUMN "student";

CREATE UNIQUE INDEX "_GuardianToStudent_AB_unique" ON "public"."_GuardianToStudent"("A","B")

ALTER TABLE "public"."_GuardianToStudent" ADD FOREIGN KEY ("A") REFERENCES "public"."Guardian"("id") ON DELETE CASCADE

ALTER TABLE "public"."_GuardianToStudent" ADD FOREIGN KEY ("B") REFERENCES "public"."Student"("id") ON DELETE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200130010155-create-base-models..20200130010536-add-students-to-guardians
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://fwkcolto:xOYiA0kBHa9BwDs0T-rs6wL9wzwmy82Z@rajje.db.elephantsql.com:5432/fwkcolto"
 }
 model Content {
   author    String
@@ -25,14 +25,15 @@
   instructors    Instructor[]
 }
 model Guardian {
-  id        String   @id @default(uuid())
-  createdAt DateTime @default(now())
-  email     String   @unique
+  id        String    @id @default(uuid())
+  createdAt DateTime  @default(now())
+  email     String    @unique
   firstName String
   lastName  String
   password  String
+  students  Student[]
 }
 model Instructor {
   id        String   @id @default(uuid())
```


